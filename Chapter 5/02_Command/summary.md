# Command

## 의도

- 요청을 객체로 캡슐화하여 클라이언트의 다양한 요청을 매개변수화할 수 있도록 함

## 동기

- 요청이나 요청의 수신자가 명시되지 않은 상태에서 요청을 생성하고자 하는 경우
- Command 패턴을 사용하여 요청 자체를 하나의 객체로 만들고, 일반적인 객체처럼 특정 위치에 저장하거나 전달할 수 있음
- 동작을 수행하는 추상 Command 패턴을 정의하고, Concrete Command 서브클래스는 요청의 수신자와 수행할 액션을 저장하는 역할 수행
- 여러 개의 요청을 실행해야 하는 경우 서브클래싱을 통해 여러 Command를 순서대로 실행할 수 있음

## 활용성

- Callback을 객체 지향화된 버전으로 사용하고자 하는 경우
- Undo 기능이 필요한 경우
- 요청에 대한 로그 기능이 필요한 경우

## 구조

TODO: Add Image

## 참여자

- Command
  - 액션을 실행하는 인터페이스 정의
- ConcreteCommand
  - 액션과 액션을 받는 수신자 객체의 관계를 정의
  - 액션을 실행하는 메서드 구현
- Client
  - ConcreteCommand 객체 및 객체의 수신자 생성
- Invoker
  - Command에게 요청 수행을 요청
- Receiver
  - 요청을 수행

## 협력 방식

- Client는 ConcreteCommand 객체를 생성하고, 수신자를 명시
- Invoker 객체는 ConcreteCommand 객체를 저장
- Invoker 객체가 필요한 경우 execute 메서드를 실행
- ConcreteCommand 객체가 수신자 객체에게 액션을 전달하여 실행

## 결과

### 장점

- 액션의 수신자와 발신자를 분리
- Command 객체는 일급 객체로, 다른 객체와 동일하게 다룰 수 있음
- 여러 개의 command 객체를 합성할 수 있음
- 기존의 command 클래스를 변경하지 않고 새로운 Command 객체 추가 가능

### 단점

- 수신자와 발신자 간의 새로운 레이어를 도입하기 때문에 코드의 복잡성 증가

## 구현

- Command 객체에게 어느 정도의 책임을 부여하는지에 대한 설계 필요
- Undo / Redo 기능 구현 여부
  - 별도의 undo 메서드 추가 필요
  - 메서드를 수신한 Receiver 객체, 액션에 전달된 매개 변수, 액션이 수행되기 전의 상태 저장 필요
  - 한번 이상의 undo / redo 기능을 구현하고자 하는 경우 실행된 command의 리스트 필요
