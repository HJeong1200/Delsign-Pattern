# Prototype

## 의도

- 생성하고자 하는 객체를 원형으로 하는 객체를 만들어서 새로운 객체를 생성하는 방법

## 동기

- 동일한 객체를 여러 개 생성하고자 하며 생성된 객체는 모두 동일한 속성을 가져야 하는 경우
- 객체의 정확한 복사본을 생성하고자 하는 경우

## 활용성

- 클라이언트가 객체의 생성, 구현, 표현을 몰라도 되는 경우에 사용 가능하며,
- 클래스가 런타임에 지정되는 경우 또는,
- 복잡한 팩토리 계층 구조가 만들어지는 경우 또는,
- 클래스의 인스턴스가 몇 가지 의 상태 조합만 가지는 경우, 해당 수만큼 프로토타입을 만들고 복제하는 것이 더 편리한 경우 사용 가능

## 구조

<img width="680" alt="스크린샷 2025-02-09 오후 3 15 04" src="https://github.com/user-attachments/assets/3bcef3a0-fa87-4a6b-bcd2-89cc82ecd62b" />

## 참여자

- Prototype: 자기 자신을 복제하는 인터페이스 정의
- ConcretePrototype: Prototype 인터페이스 구현
- Client: Prototype 인터페이스를 통해 객체 생성

## 결과

### 장점

- Prototype은 Abstract Factory나 Builder와 유사한 장점을 가짐
  - 코드를 실제로 사용하는 클라이언트에게 구체적인 Product의 구현을 숨김
  - 특정 환경에 종속된 클래스를 변경 없이 사용 가능
- 런타임에 Product 추가 및 제거 가능
  - 새로운 Product가 필요한 경우 단순히 해당 Product의 Prototype을 등록하면 됨
- 다양한 값으로 새로운 객체를 만들 수 있음
- 다양한 구조로 새로운 객체를 만들 수 있음
- Subclass를 줄일 수 있음

### 단점

- 모든 Subclass가 clone 메서드를 구현해야 함

## 구현

- Prototype을 모아두는 레지스트리 생성
- Clone 메서드 구현
  - 얕은 복사로 충분한 경우가 많지만 복잡한 구조의 경우 깊은 복사 필요
- 필요한 경우 복사본 생성 및 초기화
