# Builder

## 의도

- 객체를 생성하는 방법과 표현하는 방법을 정의하는 클래스를 별도로 분리하여 서로 다른 표현이라도 이를 생성할 수 있는 동일한 절차 제공
- 생성과 표현의 분리를 통해 생성 절차는 동일하게 유지하면서 객체의 표현을 다양화할 수 있음

## 동기

- 특정 텍스트 포맷을 판독하고 다른 텍스트 포맷으로 변환하는 변환기 구현
- 판독기와 변환기의 로직을 분리하여, 판독기는 판독의 책임만 지고 변환기는 변환의 책임만 져야 함

## 활용성

- 복합 객체의 생성 알고리즘과 조립 방법의 독립을 제공하고자 할 때 사용
- 합성할 객체들의 표현이 서로 다르더라도 생성 절차에서 이를 지원해야 할 때 사용

## 구조

TODO: Add Image

## 참여자

- Builder
  - Product 객체의 일부 요소들을 생성하기 위한 추상 인터페이스 정의
- ConcreteBuilder
  - Builder 클래스에 정의된 인터페이스를 구현
  - 제품의 부품을 모아 빌더를 복합하여 생성
- Director
  - Builder 인터페이스를 사용
- Product
  - ConcreteBuilder에 의해 생성되는 복합 객체
  - 생성할 복합 객체에 대한 표현

## 협력 방법

- Director 객체를 생성하고 생성한 객체를 자신이 원하는 Builder 객체로 합성
- Builder 객체에게 복합 객체의 각 부분을 생성할 것을 요청
- Builder 객체가 복합 객체를 반환
- Director 객체는 Builder 객체가 반환한 복합 객체를 사용

## 결과

### 장점

- 제품에 대한 내부 표현을 다양하게 변화 가능
  - 빌더에 정의된 추상 인터페이스를 통해 동작하기 때문에 새로운 제품을 추가하거나 제품의 복합 방법이 바뀌어도 Builder 클래스에서 상속을 통해 새로운 서브클래스를 정의하는 방식으로 대응 가능
- 생성과 표현에 필요한 코드 분리
  - Client는 복합 객체의 생성과 표현에 필요한 코드를 알 필요 없이 빌더와 상호작용을 통해서 필요한 복합 객체 생성 가능
- 복합 객체를 생성하는 절차를 세밀하게 나눌 수 있음

### 단점

- 코드의 복잡성 증가

## 구현

1. 빌더가 단계별로 제품을 생성하도록 하기 위해 모든 종류의 제품을 생성하는 데 필요한 일반화된 연산 정의
   - 일반적으로 Builder에 있는 메서드에 대해서는 구현을 제공하지 않음
2. 해당 클래스를 상속하는 서브클래스 ConcreteBuilder가 자신에게 필요한 요소를 생성하도록 부모 클래스의 연산을 재정의
   - 일반적으로 제품은 Builder 클래스의 서브클래스로 정의되는데 제품마다 제품 표현 방법이 달라 공통점을 찾을 수 없는 경우가 많기 때문에 서로 다른 제품에 공통적인 추상 클래스를 정의하지 않음

## 실제 구현 코드 데모
